<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>
Automation Framework - Environment
</TITLE>
</HEAD>
<BODY>
<H1>Платформа автоматизации - Окружающая среда </H1>

Этот раздел файла конфигурации YAML определяет приложения, с которыми могут работать остальные задания. 
<p>
Automation Framework поддерживает все механизмы <a href="authentication.html">аутентификации</a>, поддерживаемые ZAP. 

<pre>
env:                                   # Окружающая среда, обязательно 
  contexts :                           # Список из 1 или более контекстов, обязательный
    - name: context 1                  # Имя, которое будет использоваться для ссылки на этот контекст в других заданиях, обязательно 
      urls:                            # Обязательный список URL-адресов верхнего уровня, все, что находится под каждым URL-адресом, будет включено 
      includePaths:                    # Необязательный список регулярных выражений для включения 
      excludePaths:                    # Необязательный список регулярных выражений для исключения 
      authentication:
        method:                        # Строка, одна из «вручную», «http», «form», «json» или «script» 
        parameters:                    # Может включать все необходимое для скриптов.  Все параметры поддерживают vars, кроме порта. 
          hostname:                    # Строка, только для HTTP-аутентификации 
          port:                        # Int, только для HTTP-аутентификации 
          realm:                       # Строка, только для HTTP-аутентификации 
          loginPageUrl:                # Строка, URL-адрес страницы входа для чтения перед выполнением запроса, только для аутентификации «form» или «json». 
          loginRequestUrl:             # Строка, запрашиваемый URL-адрес для входа, только для аутентификации «form» или «json». 
          loginRequestBody:            # Строка, тело запроса на вход — если не указано, будет использоваться запрос GET, только для аутентификации «form» или «json». 
          script:                      # Строка, путь к скрипту, только для аутентификации по сценарию 
          scriptEngine:                # Строка, имя используемого скриптового движка, только для аутентификации по сценарию.
         проверка: 
          method:                      # String, one of 'response', 'request', 'both', 'poll'Строка, одна из «response», «request», «both», «poll» 
          loggedInRegex:               # Строка, шаблон регулярного выражения для определения входа в систему 
          loggedOutRegex:              # Строка, шаблон регулярного выражения для определения выхода из системы 
          pollFrequency:               # Int, частота опроса, только для проверки "poll" 
          pollUnits:                   # String, the poll units, one of 'requests', 'seconds', only for 'poll' verificationСтрока, единицы опроса, один из "requests", "seconds", только для проверки "poll" 
          pollUrl:                     # Строка, URL для опроса, только для проверки "опроса" 
          pollPostData:                # Строка, опубликовать данные для включения в пул, только для проверки "poll" 
          pollAdditionalHeaders:       # Список дополнительных заголовков для запроса опроса, только для проверки "опроса" 
          - header:                    # Имя заголовка 
            value:                     # Значение заголовка 
      sessionManagement:
        method:                        # Строка, одна из «cookie», «http», «script» 
        parameters:                    # Список из 0 и более параметров - может включать любые необходимые для скриптов 
          script:                      # Строка, путь к скрипту, только для управления сессией 'скрипт' 
          scriptEngine:                # Строка, имя используемого скриптового движка, только для управления сеансом «скрипт». 
      users:                           # Список одного или нескольких пользователей, доступных для аутентификации 
      - name:                          # Строка, имя, которое будет использоваться заданиями 
        credentials:                   # Список учетных данных пользователя — может включать любые необходимые для скриптов 
          username:                    # Строка, имя пользователя для аутентификации, поддерживаются переменные 
          password:                    # Строка, пароль для аутентификации, поддерживаются vars 
  vars:                                # Список из 0 или более пользовательских переменных, которые будут использоваться в файле конфигурации. 
    myVarOne: CustomConfigVarOne       # Может использоваться как ${myVarOne} в любом месте конфигурации. 
    myVarTwo: ${myVarOne}.VarTwo       # Может ссылаться на другие vars
   параметры: 
    failOnError: true                  # Если установлено выход при ошибке         
    failOnWarning: false               # Если установлен выход при предупреждении 
    progressToStdout: true             # Если установлено, ход выполнения задания будет записываться в стандартный вывод. 
</pre>

Переменные системной среды также можно использовать в конфигурации таким же образом, как указано выше.  Если есть две переменные
с тем же именем предпочтительнее использовать значение системной переменной.  
  
<h3>Изменения формата </h3>

Первоначально поля «engine» и «scriptEngine» находились непосредственно под элементом «sessionManagement» — это все еще поддерживается при чтении планов, но они
теперь всегда будет выводиться под элементом «параметры». 
<p>
Первоначально поля «имя пользователя» и «пароль» находились непосредственно под пользовательским элементом — это все еще поддерживается при чтении планов, но они
теперь всегда будет выводиться под элементом «credentials». 


</BODY>
</HTML>

