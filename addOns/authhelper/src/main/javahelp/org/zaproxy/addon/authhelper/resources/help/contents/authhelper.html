<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>
Authentication Helper
</TITLE>
</HEAD>
<BODY>
<H1>Authentication Helper</H1>

This add-on helps identify and set up authentication handling in ZAP.<br>
It is initially aimed at manual use but the end goal is to make all of the key features available via automation.<br>
It is currently at a very early stage of development - feedback on the existing functionality is very much appreciated,
especially details of commonly used username and password fields in languages other than English.
<p>

The add-on can be used in 2 ways:
<ul>
<li>To passively detect authentication features.
<li>To automatically configure ZAP to handle the authentication features discovered.
</ul>

See below for the authentication features currently supported.
<p>
By default the add-on will raise informational alerts detailing any authentication features identified.
<br>
However if any of the authentication features are part of a ZAP Context which uses the "Manual" authentication method (the default),
then the add-on will update that context to handle the authentication features if possible.
<p>
This add-on does not currently perform any exploring on its own - it relies upon requests being proxied through ZAP
(e.g. via a browser being manually controlled, or integration tests) or requests being generated by ZAP 
(e.g. via the traditional or AJAX spiders).
<p>
To automatically configure authentication handling in ZAP:
<ol>
<li>Launch your preferred browser (Firefox or Chrome) from ZAP
<li>Open your app in the browser
<li>Add all of the sites your app uses to a ZAP Context
<li>Authenticate to your app via the browser using valid credentials
</ol>

If the add-on identifies an authentication request that is part of the context you have defined then an informational alert will be raised and the 
authentication method should be correctly set in the context you have created.<br>
If an authentication request is not identified then check to make sure it is made to a site which is included in the context.<br>
If it is not then add the site to the context and authenticate again via your browser.

<H2>Authentication Request Identification</H2>
This add-on includes a passive scan rule which attempts to identify authentication requests.<br>
It identifies authentication requests by the presence of commonly used username and password field names.
It also uses commonly used URL segments to identify more likely authentication requests, 
and uses commonly used registration URL segments to ignore registration requests.<br><br>
The rule will not attempt to identify very unusual authentication requests - automation is one of the end goals so false negatives
(missing unusual authentication requests) is more desirable than false positives (incorrectly identifying an authentication request). 
<br>
The 'other' field is used to report a set of key-value pairs which can be easily parsed. The current keys supported are:
<ul>
<li>userParam
<li>userValue
<li>passwordParam
<li>csrfToken
</ul>
There can potentially be multiple csrfTokens.
<p>
The rule will currently identify:
<ul>
<li>Form-based authentication requests
<li>JSON-based authentication requests
</ul>

Latest code: <a href="https://github.com/zaproxy/zap-extensions/blob/main/addOns/authhelper/src/main/java/org/zaproxy/zap/extension/authhelper/AuthenticationDetectionScanRule.java">AuthenticationDetectionScanRule.java</a>

</BODY>
</HTML>
