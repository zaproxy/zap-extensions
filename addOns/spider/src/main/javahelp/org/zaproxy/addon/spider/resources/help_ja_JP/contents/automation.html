<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
スパイダー – 自動化フレームワーク対応
</TITLE>
</HEAD>
<BODY>
<H1>スパイダー – 自動化フレームワーク対応</H1>
このアドオンは自動化フレームワークに対応しています。

<H2>ジョブ: spider</H2>
spider ジョブは従来のスパイダーを実行します。 これは高速ですが、最新のアプリケーションを効果的に処理することはできません。
<p>
この内容は、動画「<a href="https://youtu.be/WivoyVerBCo">ZAP Chat 10 Automation Framework Part 4 - Spidering</a>」で解説されています。
<p>
デフォルトでは、このジョブは環境で定義された最初のコンテキストをアクティブスキャンするため、パラメーターは必須ではありません。
<p>
このジョブはモニターテストをサポートしています。

<H2>YAML</H2>

<pre>
  - type: spider                       # 従来のスパイダー - 高速だが最新のアプリには対応しきれない
    parameters:
      context:                         # 文字列: スパイダーを実行するコンテキストの名前、デフォルト: 最初のコンテキスト
      user:                            # 文字列: 認証に使用するオプションのユーザー、環境で定義されている必要がある
      url:                             # 文字列: スパイダーを開始するURL、デフォルト: 最初のコンテキストURL
      maxDuration:                     # Int: スパイダーの実行を許可する最大時間 (分)、デフォルト: 0 (無制限)
      maxDepth:                        # Int: 探索する最大ツリー深度、デフォルト: 5
      maxChildren:                     # Int: ツリーの各ノードに追加する子の最大数
      acceptCookies:                   # Bool: スパイダーがCookieを受け入れるかどうか、デフォルト: true
      handleODataParametersVisited:    # Bool: スパイダーがODataレスポンスを処理するかどうか、デフォルト: false
      handleParameters:                # Enum [ignore_completely, ignore_value, use_all]: URIが既に訪問されたかチェックする際にクエリ文字列パラメータをどう使用するか、デフォルト: use_all
      logoutAvoidance:                 # Bool: スパイダーがログアウト関連のパス/機能を回避しようとするかどうか、デフォルト: false
      maxParseSizeBytes:               # Int: 解析されるレスポンスの最大サイズ、デフォルト: 2621440 (2.5 MB)
      parseComments:                   # Bool: スパイダーがURLを見つけるためにHTMLコメントを解析するかどうか、デフォルト: true
      parseGit:                        # Bool: スパイダーがURLを見つけるためにGitメタデータを解析するかどうか、デフォルト: false
      parseDsStore:                    # Bool: スパイダーがURLを見つけるために.DS_Storeファイルを解析するかどうか、デフォルト: false
      parseRobotsTxt:                  # Bool: スパイダーがURLを見つけるために'robots.txt'ファイルを解析するかどうか、デフォルト: true
      parseSitemapXml:                 # Bool: スパイダーがURLを見つけるために'sitemap.xml'ファイルを解析するかどうか、デフォルト: true
      parseSVNEntries:                 # Bool: スパイダーがURLを見つけるためにSVNメタデータを解析するかどうか、デフォルト: false
      postForm:                        # Bool: スパイダーがPOSTフォームを送信するかどうか、デフォルト: true
      processForm:                     # Bool: スパイダーがフォームを処理するかどうか、デフォルト: true
      sendRefererHeader:               # Bool: スパイダーが referer ヘッダーを送信するかどうか、デフォルト: true
      threadCount:                     # Int: スパイダースレッド数、デフォルト: 利用可能なプロセッサコア数 × 2
      userAgent:                       # 文字列: リクエストで使用するユーザーエージェント、デフォルト: '' (ZAPのデフォルトを使用)
    tests:
      - name: 'At least 100 URLs found'                 # 文字列: テストの名前、デフォルト: statistic + operator + value
        type: 'stats'                                   # 文字列: テストのタイプ、現在は'stats'のみサポート
        statistic: 'automation.spider.urls.added'       # 文字列: 整数/long統計の名前、現在サポート: 'automation.spider.urls.added'
        operator: '&gt;='                                  # 文字列['==', '!=', '&gt;=', '&gt;', '&lt;', '&lt;=']: テストに使用する演算子
        value: 100                                      # Int: 見つかると予想されるURLの数に変更する
        onFail: 'info'                                  # 文字列: 'warn', 'error', 'info'のいずれか、必須
</pre>

</BODY>
</HTML>
