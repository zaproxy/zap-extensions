<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>
クライアントサイド統合 - クライアントスパイダーAPI
</TITLE>
</HEAD>
<BODY>
<H1>クライアントサイド統合 - クライアントスパイダーAPI</H1>

このアドオンはクライアントスパイダーをプログラムによって制御できるように、さまざまなAPIエンドポイントを追加します。
<p>
APIには <code>clientSpider</code> というAPIプレフィックスを介してアクセスできます。

<H2>ビュー</H2>
<ul>
<li><code>status (scanId*)</code>: スパイダースキャンのステータスを取得します。 現在の進行状況を示す0から100までの整数を返します。</li>
</ul>

<H2>アクション</H2>
<ul>
<li><code>scan (browser url contextName userName subtreeOnly maxCrawlDepth pageLoadTime numberOfBrowsers scopeCheck)</code>: 指定されたURLやコンテキストに対してクライアントスパイダーを実行します。 スキャンIDを返します。</li>
<li><code>stop (scanId*)</code>: クライアントスパイダースキャンを停止します。</li>
</ul>

<H2>パラメーター</H2>
<ul>
<li><code>browser</code>: スキャンに使用するブラウザ、例: 'firefox-headless'。 指定されていない場合は、Firefox Headlessが使用されます。</li>
<li><code>url</code>: スキャンを開始するURL。 指定されておらずコンテキストが設定されている場合は、コンテキスト内の最初のURLが使用されます。</li>
<li><code>contextName</code>: スキャンするコンテキストの名前。</li>
<li><code>userName</code>: スキャンを実行するユーザーの名前。 ユーザーは指定されたコンテキストに存在する必要があります。</li>
<li><code>subtreeOnly</code>: 'true' に設定されている場合、スパイダーは指定されたURLの下のURLのみをスキャンします。 デフォルト: 'false'</li>
<li><code>maxCrawlDepth</code>: スパイダーがクロールする最大深度。0は無制限を意味します。 デフォルトはクライアントオプションです。</li>
<li><code>pageLoadTime</code>: ページの読み込み待機時間 (秒単位)。 デフォルトはクライアントオプションです。</li>
<li><code>numberOfBrowsers</code>: 開くブラウザウィンドウの数 (同時実行数)。 整数値。デフォルトはクライアントオプションの設定値です。</li>
<li><code>scopeCheck</code>: スコープチェックモード。<code>FLEXIBLE</code> (デフォルト) または<code>STRICT</code>のいずれか。</li>
<li><code>scanId</code>: 照会または管理するスキャンのID。</li>
</ul>

<H2>例</H2>
<H3>スキャンの開始：</H3>
<pre><code>
https://zap/JSON/clientSpider/action/scan/?url=https://example.com&maxCrawlDepth=5&pageLoadTime=30&numberOfBrowsers=1&scopeCheck=STRICT
</code></pre>

<H3>ステータスの確認：</H3>
<pre><code>
https://zap/JSON/clientSpider/view/status/?scanId=1
</code></pre>

<H3>スキャンの停止：</H3>
<pre><code>
https://zap/JSON/clientSpider/action/stop/?scanId=1
</code></pre>

</BODY>
</HTML> 